(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bf3b5e8c"],{"1cc4":function(t,e,a){},2045:function(t,e,a){"use strict";var r=a("1cc4"),s=a.n(r);s.a},"52ca":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user_threads"},[a("div",{staticClass:"user_threads__title"},[t._v("Threads by "+t._s(t.username))]),t.threads?t.threads.length?a("scroll-load",{attrs:{loading:t.loadingThreads,showNext:null!==t.nextURL,message:"threads"},on:{loadNext:t.loadNewThreads}},[t._l(t.threads,(function(t){return a("thread-display",{key:"thread-display-"+t.id,attrs:{thread:t}})})),t.loadingThreads?t._l(t.nextThreadsCount,(function(t){return a("thread-display-placeholder",{key:t})})):t._e()],2):[t._v("This user hasn't started any threads yet")]:t._l(10,(function(t){return a("thread-display-placeholder",{key:"thread-display-placeholder-"+t})}))],2)},s=[],n=(a("7db0"),a("b0c0"),a("2909")),i=a("8674"),o=a("ce34"),d=a("9870"),l=a("c4b0"),c=a.n(l),h=a("bd28"),u={name:"userThreads",props:["username"],components:{ThreadDisplay:o["a"],ThreadDisplayPlaceholder:d["a"],ScrollLoad:i["a"]},data:function(){return{threads:null,loadingThreads:!1,nextURL:"",nextThreadsCount:0}},methods:{loadNewThreads:function(){var t=this;null!==this.nextURL&&(this.loadingThreads=!0,this.axios.get(this.nextURL).then((function(e){var a;t.loadingThreads=!1,t.threads||(t.threads=[]),(a=t.threads).push.apply(a,Object(n["a"])(e.data.Threads)),t.nextURL=e.data.meta.nextURL,t.nextThreadsCount=e.data.meta.nextThreadsCount})).catch((function(e){t.loadingThreads=!1,c()(t.$store)(e)})))}},created:function(){var t=this;this.$store.dispatch("setTitle",this.$route.params.username+" | threads"),this.axios.get("/api/v1/user/".concat(this.$route.params.username,"?threads=true")).then((function(e){t.threads=e.data.Threads,t.nextURL=e.data.meta.nextURL,t.nextThreadsCount=e.data.meta.nextThreadsCount})).catch((function(e){var a=e.response.data.errors.find((function(t){return"accountDoesNotExist"===t.name}));a?t.$store.commit("set404Page",!0):c()(t.$store)(e)})),Object(h["a"])("userThreads",this.$route.params.username)}},_=u,p=(a("2045"),a("2877")),f=Object(p["a"])(_,r,s,!1,null,"02cfe70b",null);e["default"]=f.exports},"713f":function(t,e,a){},"82e1":function(t,e,a){"use strict";var r=a("713f"),s=a.n(r);s.a},"84a2":function(t,e,a){(function(e){var a="Expected a function",r=NaN,s="[object Symbol]",n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,d=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof e&&e&&e.Object===Object&&e,h="object"==typeof self&&self&&self.Object===Object&&self,u=c||h||Function("return this")(),_=Object.prototype,p=_.toString,f=Math.max,v=Math.min,m=function(){return u.Date.now()};function y(t,e,r){var s,n,i,o,d,l,c=0,h=!1,u=!1,_=!0;if("function"!=typeof t)throw new TypeError(a);function p(e){var a=s,r=n;return s=n=void 0,c=e,o=t.apply(r,a),o}function y(t){return c=t,d=setTimeout(C,e),h?p(t):o}function b(t){var a=t-l,r=t-c,s=e-a;return u?v(s,i-r):s}function T(t){var a=t-l,r=t-c;return void 0===l||a>=e||a<0||u&&r>=i}function C(){var t=m();if(T(t))return w(t);d=setTimeout(C,b(t))}function w(t){return d=void 0,_&&s?p(t):(s=n=void 0,o)}function U(){void 0!==d&&clearTimeout(d),c=0,s=l=n=d=void 0}function $(){return void 0===d?o:w(m())}function j(){var t=m(),a=T(t);if(s=arguments,n=this,l=t,a){if(void 0===d)return y(l);if(u)return d=setTimeout(C,e),p(l)}return void 0===d&&(d=setTimeout(C,e)),o}return e=x(e)||0,g(r)&&(h=!!r.leading,u="maxWait"in r,i=u?f(x(r.maxWait)||0,e):i,_="trailing"in r?!!r.trailing:_),j.cancel=U,j.flush=$,j}function b(t,e,r){var s=!0,n=!0;if("function"!=typeof t)throw new TypeError(a);return g(r)&&(s="leading"in r?!!r.leading:s,n="trailing"in r?!!r.trailing:n),y(t,e,{leading:s,maxWait:e,trailing:n})}function g(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function T(t){return!!t&&"object"==typeof t}function C(t){return"symbol"==typeof t||T(t)&&p.call(t)==s}function x(t){if("number"==typeof t)return t;if(C(t))return r;if(g(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var a=o.test(t);return a||d.test(t)?l(t.slice(2),a?2:8):i.test(t)?r:+t}t.exports=b}).call(this,a("c8ba"))},8674:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"scroll_load"},[t._t("default")],2)},s=[],n=a("84a2"),i=a.n(n),o={name:"ScrollLoad",props:["loading","query-selector","padding-bottom","padding-top"],computed:{element:function(){return this.querySelector?document.querySelector(this.querySelector):null}},methods:{onScroll:i()((function(){var t,e,a=this.paddingBottom||300,r=this.paddingTop||150;this.loading||(this.element?(t=Math.floor(this.element.scrollTop+this.element.getBoundingClientRect().height+a-this.element.scrollHeight),e=r-this.element.scrollTop):(t=window.innerHeight+window.pageYOffset+a-document.body.scrollHeight,e=r-document.body.scrollTop),t>0?this.$emit("loadNext"):e>0&&this.$emit("loadPrevious"))}))},mounted:function(){(this.element||window).addEventListener("scroll",this.onScroll)},destroyed:function(){(this.element||window).removeEventListener("scroll",this.onScroll)}},d=o,l=a("2877"),c=Object(l["a"])(d,r,s,!1,null,null,null);e["a"]=c.exports},9870:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"thread_display_placeholder"},[a("div",{staticClass:"thread_display_placeholder__icon"}),a("div",{staticStyle:{width:"100%"}},[a("div",{staticClass:"thread_display_placeholder__header"},[a("div",{staticClass:"thread_display_placeholder__bar thread_display_placeholder__bar--15"}),a("div",{staticClass:"thread_display_placeholder__bar thread_display_placeholder__bar--33"})]),a("div",{staticClass:"thread_display_placeholder__replies_bar"},[a("div",{staticClass:"thread_display_placeholder__bar thread_display_placeholder__bar--20"}),a("div",{staticClass:"thread_display_placeholder__bar thread_display_placeholder__bar--5"})]),a("div",{staticClass:"thread_display_placeholder__content"},[a("div",{staticClass:"thread_display_placeholder__bar"}),a("div",{staticClass:"thread_display_placeholder__bar thread_display_placeholder__bar--58"})])])])}],n={name:"ThreadDisplayPlaceholder"},i=n,o=(a("ad2c"),a("2877")),d=Object(o["a"])(i,r,s,!1,null,"3ef4b836",null);e["a"]=d.exports},ad2c:function(t,e,a){"use strict";var r=a("b162"),s=a.n(r);s.a},b162:function(t,e,a){},bd28:function(t,e,a){"use strict";var r=a("bc3a"),s=a.n(r);e["a"]=function(t,e){"userPosts"===t||"userThreads"===t?s.a.get("/api/v1/user/"+e).then((function(e){return s.a.post("/api/v1/log",{route:t,resourceId:e.data.id})})).catch(console.log):s.a.post("/api/v1/log",{route:t,resourceId:e}).catch(console.log)}},ce34:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"thread_display"},[a("avatar-icon",{ref:"avatar",staticClass:"thread_display__icon",attrs:{user:t.thread.User,size:"small"},on:{click:t.goToUser}}),a("div",{staticStyle:{width:"calc(100% - 3rem)"},on:{click:t.goToThread}},[a("div",{staticClass:"thread_display__header"},[a("span",{staticClass:"thread_display__name"},[t._v(" "+t._s(t.thread.name)+" ")]),a("div",{staticClass:"thread_display__meta_bar"},[a("div",[t._v(" By "),a("span",{ref:"username",staticClass:"thread_display__username"},[t._v(t._s(t._f("truncateMid")(t.threadUsername,25)))]),t._v(" in "),a("span",{ref:"category",staticClass:"thread_display__category"},[t._v(t._s(t.thread.Category.name))]),t._v(" · "),a("span",{staticClass:"thread_display__date"},[t._v(t._s(t._f("formatDate")(t.thread.createdAt)))])])])]),a("div",{staticClass:"thread_display__replies_bar"},[2===t.thread.Posts.length?a("div",{staticClass:"thread_display__latest_reply"},[a("font-awesome-icon",{attrs:{icon:["fa","reply"],"fixed-width":""}}),a("span",{staticClass:"thread_display__latest_reply__text"},[t._v("Latest reply by ")]),a("span",{staticClass:"thread_display__username"},[t._v(t._s(t.replyUsername))]),t._v(" · "),a("span",{staticClass:"thread_display__date"},[t._v(t._s(t._f("formatDate")(t.thread.Posts[1].createdAt)))])],1):a("span",{staticStyle:{cursor:"default"}},[t._v("No replies")]),a("div",{staticClass:"thread_display__replies",attrs:{title:"Replies to thread"}},[a("font-awesome-icon",{attrs:{icon:["far","comment"],"fixed-width":""}}),t._v(" "+t._s(t.thread.postsCount-1)+" ")],1)]),a("div",{staticClass:"thread_display__content"},[t._v(" "+t._s(t._f("truncate")(t._f("stripTags")(t.thread.Posts[0].content),150))+" ")])])],1)},s=[],n=a("9098"),i={name:"ThreadDisplay",props:["thread"],components:{AvatarIcon:n["a"]},computed:{threadUsername:function(){return this.thread.User?this.thread.User.username:"[deleted]"},replyUsername:function(){return this.thread.Posts[1].User?this.thread.Posts[1].User.username:"[deleted]"}},methods:{goToUser:function(){this.$router.push("/user/"+this.thread.User.username)},goToThread:function(){this.$router.push("/thread/"+this.thread.slug+"/"+this.thread.id)}}},o=i,d=(a("82e1"),a("2877")),l=Object(d["a"])(o,r,s,!1,null,"6bf65f18",null);e["a"]=l.exports}}]);
//# sourceMappingURL=chunk-bf3b5e8c.efaff21a.js.map